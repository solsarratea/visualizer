!function(e){var o={};function r(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=o,r.d=function(e,o,n){r.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,o){if(1&o&&(e=r(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var t in e)r.d(n,t,function(o){return e[o]}.bind(null,t));return n},r.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(o,"a",o),o},r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},r.p="",r(r.s=0)}([function(e,o){var r=window.innerWidth,n=window.innerHeight,t=new THREE.PerspectiveCamera(45,r/n,.01,1e3);t.position.y=0,t.position.z=10,scene=new THREE.Scene;var l=new THREE.PlaneBufferGeometry(1,1),a=(Date.now(),new THREE.WebGLRenderer);a.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(a.domElement);var i=new dat.GUI,c={orX:1.5,orY:1.3,scale:2.7,zoom:-1.5,colorA:[65,52,170],colorB:[247,247,247],colorD:[162,73,73],colorC:[247,247,247],rainbowAmount:1};i.addColor(c,"colorA"),i.addColor(c,"colorB"),i.addColor(c,"colorC"),i.addColor(c,"colorD"),i.add(c,"rainbowAmount",0,1).step(1e-4),i.close();var u=new THREE.Vector3(c.colorA[0],c.colorA[1],c.colorA[2]),d=new THREE.Vector3(c.colorB[0],c.colorB[1],c.colorB[2]),m=new THREE.Vector3(c.colorA[0],c.colorA[1],c.colorA[2]),f=new THREE.Vector3(c.colorB[0],c.colorB[1],c.colorB[2]);material=new THREE.ShaderMaterial({uniforms:{time:{value:0},orX:{type:"f",value:c.orX},orY:{type:"f",value:c.orY},t:{type:"f",value:c.rainbowAmount},scale:{type:"f",value:c.scale},zoom:{type:"f",value:c.zoom},colorA:{type:"v3",value:u},colorB:{type:"v3",value:d},colorC:{type:"v3",value:m},colorD:{type:"v3",value:f}},fragmentShader:document.getElementById("mandelbrotFragmentShader").textContent,vertexShader:document.getElementById("vertexShader").textContent});var s=new THREE.Mesh(l,material);s.scale.y=.01*innerHeight,s.scale.x=.01*innerHeight,scene.add(s);new THREEx.DomEvents(t,a.domElement);new THREE.OrbitControls(t,a.domElement).enableRotate=!1;new THREE.DragControls([s],t,a.domElement);window.addEventListener("resize",(function(){r=window.innerWidth,n=window.innerHeight,t.aspect=r/n,t.updateProjectionMatrix(),a.setSize(r,n)}),!1),function e(){var o=5e-4*performance.now();material.uniforms.time.value=o,material.uniforms.colorA.value=c.colorA,material.uniforms.colorB.value=c.colorB,material.uniforms.colorC.value=c.colorC,material.uniforms.colorD.value=c.colorD,material.uniforms.t.value=c.rainbowAmount,a.render(scene,t),requestAnimationFrame(e)}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uLzAxLW1hbmRlbGJyb3Qtc2V0L2pzL2VudHJ5LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjYW1lcmEiLCJUSFJFRSIsIlBlcnNwZWN0aXZlQ2FtZXJhIiwicG9zaXRpb24iLCJ5IiwieiIsInNjZW5lIiwiU2NlbmUiLCJnZW9tZXRyeSIsIlBsYW5lQnVmZmVyR2VvbWV0cnkiLCJyZW5kZXJlciIsIkRhdGUiLCJub3ciLCJXZWJHTFJlbmRlcmVyIiwic2V0U2l6ZSIsImRvY3VtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImd1aSIsImRhdCIsIkdVSSIsImd1aURhdGEiLCJhZGRDb2xvciIsImFkZCIsInN0ZXAiLCJjbG9zZSIsImNvbG9yQSIsIlZlY3RvcjMiLCJjb2xvckIiLCJjb2xvckMiLCJjb2xvckQiLCJtYXRlcmlhbCIsIlNoYWRlck1hdGVyaWFsIiwidW5pZm9ybXMiLCJ0eXBlIiwib3JYIiwib3JZIiwicmFpbmJvd0Ftb3VudCIsInNjYWxlIiwiem9vbSIsImZyYWdtZW50U2hhZGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsInZlcnRleFNoYWRlciIsInBsYW5lIiwiTWVzaCIsIngiLCJUSFJFRXgiLCJEb21FdmVudHMiLCJPcmJpdENvbnRyb2xzIiwiZW5hYmxlUm90YXRlIiwiRHJhZ0NvbnRyb2xzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJhbmltYXRlIiwidGltZSIsInBlcmZvcm1hbmNlIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUs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UTBDLEVBQVFnQixjQUV6QzVCLEVBQVNpRCxPQUFPckQsTUFBT04sR0FDdkI0RCxzQkFBc0JKLEdBSTFCQSIsImZpbGUiOiJtYW5kZWxicm90LXNldC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJ2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbnZhciBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbnZhciBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpZHRoIC8gaGVpZ2h0LCAwLjAxLCAxMDAwKTtcbmNhbWVyYS5wb3NpdGlvbi55ID0gMDtcbmNhbWVyYS5wb3NpdGlvbi56ID0gMTA7XG5cbnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG52YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeSgxLDEpO1xuXG52YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxudmFyIHJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbnJlbmRlcmVyLnNldFNpemUoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgKTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcblxuXG52YXIgZ3VpID0gbmV3IGRhdC5HVUkoKTtcbnZhciBndWlEYXRhID0ge1xuICBcIm9yWFwiOiAxLjUsIFxuICBcIm9yWVwiOiAxLjMsXG4gIFwic2NhbGVcIjogMi43LFxuICBcInpvb21cIjogLTEuNSxcbiAgXCJjb2xvckFcIjogWzY1LDUyLDE3MF0sXG4gIFwiY29sb3JCXCI6IFsyNDcsMjQ3LDI0N10sXG4gIFwiY29sb3JEXCI6IFsxNjIsNzMsNzNdLFxuICBcImNvbG9yQ1wiOiBbMjQ3LDI0NywyNDddLFxuICBcInJhaW5ib3dBbW91bnRcIjogMSxcbn07XG5cblxuZ3VpLmFkZENvbG9yKGd1aURhdGEsJ2NvbG9yQScpO1xuZ3VpLmFkZENvbG9yKGd1aURhdGEsJ2NvbG9yQicpO1xuZ3VpLmFkZENvbG9yKGd1aURhdGEsJ2NvbG9yQycpO1xuZ3VpLmFkZENvbG9yKGd1aURhdGEsJ2NvbG9yRCcpO1xuZ3VpLmFkZChndWlEYXRhLCAncmFpbmJvd0Ftb3VudCcsMC4sMS4pLnN0ZXAoMC4wMDAxKTtcbmd1aS5jbG9zZSgpO1xuXG52YXIgY29sb3JBID0gbmV3IFRIUkVFLlZlY3RvcjMoIGd1aURhdGEuY29sb3JBWyAwIF0sIGd1aURhdGEuY29sb3JBWyAxIF0sIGd1aURhdGEuY29sb3JBWyAyIF0gKTtcbnZhciBjb2xvckIgPSBuZXcgVEhSRUUuVmVjdG9yMyggZ3VpRGF0YS5jb2xvckJbIDAgXSwgZ3VpRGF0YS5jb2xvckJbIDEgXSwgZ3VpRGF0YS5jb2xvckJbIDIgXSApO1xudmFyIGNvbG9yQyA9IG5ldyBUSFJFRS5WZWN0b3IzKCBndWlEYXRhLmNvbG9yQVsgMCBdLCBndWlEYXRhLmNvbG9yQVsgMSBdLCBndWlEYXRhLmNvbG9yQVsgMiBdICk7XG52YXIgY29sb3JEID0gbmV3IFRIUkVFLlZlY3RvcjMoIGd1aURhdGEuY29sb3JCWyAwIF0sIGd1aURhdGEuY29sb3JCWyAxIF0sIGd1aURhdGEuY29sb3JCWyAyIF0gKTtcblxuXG5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCgge1xuICB1bmlmb3Jtczoge1xuICAgIFwidGltZVwiOiB7IHZhbHVlOiAwLjAgfSxcbiAgICBcIm9yWFwiOiB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogZ3VpRGF0YS5vclggfSxcbiAgICBcIm9yWVwiOiB7IHR5cGU6IFwiZlwiLCB2YWx1ZTogZ3VpRGF0YS5vclkgfSxcbiAgICBcInRcIjogeyB0eXBlOiBcImZcIiwgdmFsdWU6IGd1aURhdGEucmFpbmJvd0Ftb3VudCB9LFxuICAgIFwic2NhbGVcIjogeyB0eXBlOiBcImZcIiwgdmFsdWU6IGd1aURhdGEuc2NhbGUgfSxcbiAgICBcInpvb21cIjogeyB0eXBlOiBcImZcIiwgdmFsdWU6IGd1aURhdGEuem9vbSB9LFxuICAgIFwiY29sb3JBXCIgOiB7IHR5cGUgOiAndjMnLCB2YWx1ZSA6IGNvbG9yQSB9LFxuICAgIFwiY29sb3JCXCIgOiB7IHR5cGUgOiAndjMnLCB2YWx1ZSA6IGNvbG9yQiB9LFxuICAgIFwiY29sb3JDXCIgOiB7IHR5cGUgOiAndjMnLCB2YWx1ZSA6IGNvbG9yQyB9LFxuICAgIFwiY29sb3JEXCIgOiB7IHR5cGUgOiAndjMnLCB2YWx1ZSA6IGNvbG9yRCB9LFxuXG4gIH0sXG4gIGZyYWdtZW50U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ21hbmRlbGJyb3RGcmFnbWVudFNoYWRlcicgKS50ZXh0Q29udGVudCxcbiAgdmVydGV4U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3ZlcnRleFNoYWRlcicgKS50ZXh0Q29udGVudCxcblxufSApO1xuXG52YXIgcGxhbmUgPSBuZXcgVEhSRUUuTWVzaCggZ2VvbWV0cnksIG1hdGVyaWFsICk7XG5wbGFuZS5zY2FsZS55ID0gaW5uZXJIZWlnaHQqMC4wMTtcbnBsYW5lLnNjYWxlLnggPSBpbm5lckhlaWdodCowLjAxO1xuc2NlbmUuYWRkKCBwbGFuZSApO1xuXG4vL0FkZCBDb250cm9sc1xudmFyIGRvbUV2ZW50c1x0PSBuZXcgVEhSRUV4LkRvbUV2ZW50cyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xudmFyIGNvbnRyb2xzID0gbmV3IFRIUkVFLk9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTsgIFxuY29udHJvbHMuZW5hYmxlUm90YXRlID0gZmFsc2U7XG52YXIgZHJhZ0NvbnRyb2xzID0gbmV3IFRIUkVFLkRyYWdDb250cm9scyggW3BsYW5lXSwgY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50ICk7XG5cblxuZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY2FtZXJhLmFzcGVjdCA9IHdpZHRoIC8gaGVpZ2h0O1xuICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfVxuXG5mdW5jdGlvbiBhbmltYXRlKCkge1xuICBcblxuICAgIHZhciB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAwLjAwMDU7XG4gICAgbWF0ZXJpYWwudW5pZm9ybXNbIFwidGltZVwiIF0udmFsdWUgPSB0aW1lO1xuICAgIG1hdGVyaWFsLnVuaWZvcm1zWyBcImNvbG9yQVwiIF0udmFsdWUgPSBndWlEYXRhLmNvbG9yQTtcbiAgICBtYXRlcmlhbC51bmlmb3Jtc1sgXCJjb2xvckJcIiBdLnZhbHVlID0gZ3VpRGF0YS5jb2xvckI7XG4gICAgbWF0ZXJpYWwudW5pZm9ybXNbIFwiY29sb3JDXCIgXS52YWx1ZSA9IGd1aURhdGEuY29sb3JDO1xuICAgIG1hdGVyaWFsLnVuaWZvcm1zWyBcImNvbG9yRFwiIF0udmFsdWUgPSBndWlEYXRhLmNvbG9yRDtcbiAgICBtYXRlcmlhbC51bmlmb3Jtc1sgXCJ0XCIgXS52YWx1ZSA9IGd1aURhdGEucmFpbmJvd0Ftb3VudDtcblxuICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gIH0gXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSwgZmFsc2UpO1xuYW5pbWF0ZSgpOyJdLCJzb3VyY2VSb290IjoiIn0=